"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6861],{36861:function(e,t,a){let s,i;a.d(t,{Z:function(){return M}});var n,r,l=a(2784),o=a(60128),d=a(34739),c=a(79614),m=a(79045),u=a(83417),h=a(65786),x=a(8453),g=a(76903),_=a(43147),p=a(8359),b=a(44306),v=a(52322),A=e=>{let{artistAlbums:t,onAlbumItemClicked:a,isSFX:s=!1}=e,{t:i}=(0,x.$G)("artist-page"),n=(0,l.useMemo)(()=>t.map(e=>({id:e.id,name:e.name,description:e.shortDescription,coverFilePath:e.thumbFilePath,albumUrl:(0,g.MY)(s?p._j.sfxPack:p._j.musicAlbum)({albumID:e.id,albumName:(0,b.qK)(e.name)}),isNew:e.isNew})),[t,s]);return(0,v.jsx)(_.Z,{id:"artist-page__albums-list","data-testid":"ArtistAlbums",children:(0,v.jsxs)("div",{className:"mb-4 lg:ml-25 lg:mr-12 lg:mt-10",children:[(0,v.jsx)("h2",{className:"mt-2.5 mb-5 pl-6 text-lg font-bold text-white lg:pl-0 lg:text-base lg:font-normal",children:i(s?"sfxPacks":"albums")}),(0,v.jsx)(u.jh,{albums:n,onAlbumClicked:a})]})})},C=a(6277);let j=e=>{let{artistDetails:t}=e,[a,s]=(0,l.useState)(!1),{t:i}=(0,x.$G)("artist-page");return(0,v.jsxs)("div",{className:"px-6 py-8","data-testid":"ArtistBio",children:[(0,v.jsx)("h2",{className:"mb-5 text-lg font-bold text-white",children:i("biography.title")}),(0,v.jsx)("p",{className:(0,C.Z)(!a&&"max-h-10","overflow-hidden text-sm text-gray-100"),dangerouslySetInnerHTML:{__html:(0,b.jW)(t.bio)}}),!a&&(0,v.jsx)("div",{className:"cursor-pointer text-xs font-medium text-gray-50 underline",onClick:()=>s(!0),role:"button",children:i("biography.readMore")})]})};var f=a(13157);(n=s||(s={})).MEDIA_ADDED_TO_FAVOURITE="media added to favorite",n.ADD_TO_FAVORITE_PRESSED="add to favorite pressed",n.SHARE_BUTTON_CLICKED="share button clicked",n.SHARE_METHOD_CHOSEN="share method chosen",n.BIO_ITEM_CLICKED="bio item clicked",n.ALBUM_ITEM_CLICKED="album item clicked",(r=i||(i={})).ARTIST_PAGE="artist page",r.ARTIST_PAGE_MAIN_BUTTON="Artist Page Main Button";let y=e=>{let{id:t,title:a,name:n,clickSource:r=i.ARTIST_PAGE}=e,{trackAudioEvent:o}=(0,l.useContext)(u.X5),d=()=>({media_id:t,song_id:t,artist:n,title:a,media_type:"artist",listing_position:-1,is_similar_song:!1}),c=e=>{let{name:t,eventData:a}=e;f.xT.track({name:t,eventData:{...a,click_source:r}})};return{onPlayButtonPressed:e=>{o(e,"media played",{trigger:"play",autoPlay:!1,nextPrevClicked:!1})},onPauseButtonPressed:e=>{o(e,"media paused",{trigger:"pause",autoPlay:!1,nextPrevClicked:!1})},onFavoriteStatusChanged:()=>{c({name:s.MEDIA_ADDED_TO_FAVOURITE,eventData:{button_name:"save",...d()}})},onAddToFavoritePressed:()=>{c({name:s.ADD_TO_FAVORITE_PRESSED,eventData:{button_name:"save",...d()}})},onShareClicked:()=>{c({name:s.SHARE_BUTTON_CLICKED,eventData:{button_name:"share",...d()}})},onShareMethodChosen:e=>{c({name:s.SHARE_METHOD_CHOSEN,eventData:{button_name:e||"copy",share_method:e||"link copy",...d()}})},onBioItemClicked:()=>{c({name:s.BIO_ITEM_CLICKED,eventData:{button_name:"bio",artist:a,media_id:t,song_id:t}})},onAlbumItemClicked:e=>{c({name:s.ALBUM_ITEM_CLICKED,eventData:{button_name:"Album",artist:a,media_type:"album",media_id:e,album_id:e},superProps:{page_url:`${(0,b.P9)()}${(0,g.MY)(p._j.musicArtist)({artistID:t,artistName:n})}`}})}}},T=e=>{let{artistDetails:t,artistSongs:a,isSFX:s=!1,isFetchingMore:i,onEndOfListReached:n}=e,{onAlbumItemClicked:r}=y({id:t.id,title:t.name,name:t.nameForUrl});return(0,v.jsxs)("div",{className:"flex flex-col lg:mr-10 lg:flex-row-reverse","data-testid":"ArtistContent",children:[(0,v.jsxs)("div",{className:"mb-8 mt-12 overflow-x-clip lg:mt-13.5 lg:grow",children:[!!(null!=a&&a.length)&&(0,v.jsx)(u.Nf,{audioList:a,shouldShowImage:!0,isSFX:s,shouldUsePagination:!0,addPageFunc:n,shouldUseGenreAsFreeSearch:s}),i&&(0,v.jsx)(h.w,{numOfRows:8})]}),(0,v.jsx)(A,{artistAlbums:t.albums,onAlbumItemClicked:r,isSFX:s}),(0,v.jsx)("div",{className:"lg:hidden",children:(0,v.jsx)(j,{artistDetails:t})})]})};var S=a(32706),E=a(97377),D=a(53476),I=e=>{let{name:t,isSFX:a=!1}=e,{isAboveLG:s}=(0,d.yy)(),{t:i}=(0,x.$G)("artist-page");return(0,v.jsxs)("div",{"data-testid":"ArtistBannerHeading",children:[s&&(0,v.jsx)(E.pz,{variant:"subheading",children:(0,v.jsx)("p",{className:"mb-0 uppercase",children:i(a?"banner.sfxArtist":"banner.artist")})}),(0,v.jsx)(E.pz,{variant:"heading",children:t})]})},k=a(58111),N=a(93974),P=a(91172),F=e=>{let{id:t,name:a,nameForUrl:s,onTogglePlayback:n}=e,{t:r}=(0,x.$G)("artist-page"),l=(0,D.sJ)(u.fT),o=(0,D.sJ)(u.Gw),{onFavoriteStatusChanged:c,onAddToFavoritePressed:h,onShareClicked:g,onShareMethodChosen:p}=y({id:t,title:a,name:s,clickSource:i.ARTIST_PAGE_MAIN_BUTTON}),{setSubscribeModalForSaveButton:b}=(0,k.c)(),{imageSrc:A=""}=l??{},{data:C=N.Cg}=(0,P.rd)(A,"rgbArray",{crossOrigin:"anonymous"}),{isInFavorites:j,onFavoriteClick:f}=(0,d.I9)({assetId:t,assetType:m.W3.Artist,onFavoriteStatusChanged:c,onUnauthorized:()=>b({thumbnailUrl:A,backgroundColor:C,assetType:m.tq.sfx})});return(0,v.jsxs)(E.Mu,{"data-testid":"ArtistBannerActions",children:[(0,v.jsx)(_.Z,{id:"artist-page__banner__play-button",children:(0,v.jsx)("div",{children:(0,v.jsx)(E.zx,{label:"play from banner",text:r(o?"banner.pause":"banner.play"),size:"sm",textCase:"upper",onClickFn:n})})}),(0,v.jsx)(_.Z,{id:"artist-page__banner__save-button",children:(0,v.jsx)("div",{children:(0,v.jsx)(E.zx,{text:r(j?"banner.saved":"banner.save"),size:"sm",onClickFn:()=>{j||h(),f()},isHighlighted:j,variant:"outlined",textAndBorderHoverColor:"hover:text-accent hover:border-accent"})})}),(0,v.jsx)(E.x2,{onLinkCopy:p,onShareMethodOpen:p,shareURL:m.sk?"":window.location.href,placement:"right",copyButtonText:r("banner.copy"),shouldHaveUniqId:!0,children:(0,v.jsx)(E.zx,{text:r("banner.share"),size:"sm",variant:"outlined",onClickFn:g,textAndBorderHoverColor:"hover:text-accent hover:border-accent"})})]})},O=e=>{let{artistDetails:t,artistSongs:a,isSFX:s=!1}=e,{id:i,name:n,bio:r,profileImage:o,bioImage:c,coverImage:m,isOriginal:h,nameForUrl:g}=t,[p,b]=(0,l.useState)(!1),{isBelowLG:A,isAboveLG:j}=(0,d.yy)(),{onBioItemClicked:f,onPlayButtonPressed:T,onPauseButtonPressed:k}=y({id:i,title:n}),{onTogglePlayPause:N}=(0,u.Ez)(),[P,O]=(0,D.FV)(u.fT),M=(0,D.sJ)(u.Gw),w=(0,S.useTransition)(p,{from:{opacity:0,scale:.95},enter:{opacity:1,scale:1},leave:{opacity:0,scale:.95}}),{t:B}=(0,x.$G)("artist-page"),R=!!a.find(e=>{let{id:t}=e;return t===(null==P?void 0:P.id)}),U=async()=>{let e;R&&P?e=P:[e]=a,P?(N(e),T(e)):O(e)};return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(_.Z,{id:"artist-page__banner",children:(0,v.jsx)(E.ef,{backgroundImageSrc:m,backgroundCoverProps:{alt:`${n} profile cover`,title:`${n} profile cover`},image:(0,v.jsx)("div",{className:(0,C.Z)("h-full w-full",{"pointer-events-none":A}),children:(0,v.jsx)(E.K,{onClickFn:()=>{b(!0),f()},text:B("banner.bio"),src:o,isRounded:!0,alt:`${n} profile picture`,title:`${n} profile picture`})}),heading:(0,v.jsx)(I,{name:n,isSFX:s}),actions:(0,v.jsx)(F,{id:i,name:n,nameForUrl:g,onTogglePlayback:M?()=>{P&&(N(P),k(P))}:U}),isArtlistOriginal:h,isImageVisibleOnMobile:!0,actionsContainerClassName:"lg:mt-0"})}),(0,v.jsx)(E.u_,{isOpen:p,handleClose:()=>b(!1),hasCloseButton:!0,isFullScreenOnMobile:!0,isPrimaryOverlay:!0,customBgColor:"bg-sign-up-overlay",isFullScreenDesktopMode:!0,modalClassNames:"!p-0",forceScrollToContent:!0,clickSource:"sign up modal",children:w((e,t)=>t&&j&&(0,v.jsx)(u.$i,{style:e,title:n,descriptionHTML:r,background:c},"artist-modal"))})]})},M=e=>{let{artistDetails:t,artistSongs:a,isSFX:s=!1}=e,{isAboveLG:i}=(0,d.yy)(),[n,r]=(0,l.useState)(a),[h,x]=(0,l.useState)(1),[g,_]=(0,l.useState)(!1),[p,b]=(0,l.useState)(!1),A=(0,l.useRef)(t.id);(0,l.useEffect)(()=>{A.current!==t.id&&(r(a),_(!1),A.current=t.id)},[t.id,a]);let{enrichedAudioList:C}=(0,o.U0)({audioList:n,assetType:s?m.tq.sfx:m.tq.music}),j=async()=>{if(i&&!g){b(!0);let e=s?20:10,a=h+1;try{let i=[];(i=s?await (0,c.rC)(t.id,e,a):await (0,c.hd)(t.id,e,a*e)).length?(i.length<e&&_(!0),r(e=>[...e,...i]),x(a)):_(!0)}catch(e){console.error("Failed to fetch more artist songs",e)}finally{b(!1)}}};return(0,v.jsx)(u.hg,{clickSource:"artist page","data-testid":"ArtistPage",children:(0,v.jsxs)("div",{className:"flex flex-col",children:[(0,v.jsx)(O,{artistDetails:t,artistSongs:a,isSFX:s}),(0,v.jsx)(T,{artistDetails:t,artistSongs:C,isSFX:s,isFetchingMore:p,onEndOfListReached:j})]})})}}}]);